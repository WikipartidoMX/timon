<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html" 
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                template="../unaColumnaTemplate.xhtml">
    <ui:param name="donde" value="menuvotdeb" />


    <ui:define name="content">
        <link href="#{facesContext.externalContext.request.contextPath}/resources/css/votacion.css" rel="stylesheet" type="text/css" /> 

        <div class="encabezadoSeccion">
            <h1>VOTACIONES</h1>
        </div>
        <div id="menuVotaciones">
            <a href="nuevaVotacion/nv.xhtml">+Nueva</a>
        </div>

        <p:dataGrid value="#{vydc.votaciones}" var="v">
            <div onclick="location='votacion.xhtml?vid=#{v.id}';" class="cajaVot" style="
                 background-image: url(#{facesContext.externalContext.request.contextPath}/ImagenDeVotacion?vid=#{v.id});
                 ">
                <div class="headerCajaVot">
                    <div class="tituloCajaVot">
                        #{v.nombre}
                    </div>
                </div>
                <img class="avatarCajaVot" src="#{facesContext.externalContext.request.contextPath}/ShowAvatar?mid=#{v.miembro.id}"
                     />
                <div class="convocaCajaVot">
                    Convocada por <br/> #{v.miembro.nombre} #{v.miembro.apellidoPaterno} #{v.miembro.apellidoMaterno}
                </div>

                <div class="descripcionCajaVot">
                    <div class="textoDescCajaVot">
                        #{v.descripcion}
                    </div>
                </div>
                <div class="timerCajaVot">
                    <div class="textoTimerCajaVot">La votaci√≥n cierra el 
                        <h:outputText value="#{v.fechaCierre}" >
                            <f:convertDateTime pattern="dd 'de' MMMM yyyy 'a las' K:mm a" locale="es" />
                        </h:outputText>

                    </div>
                </div>                
            </div>
        </p:dataGrid>
    </ui:define>



</ui:composition>
